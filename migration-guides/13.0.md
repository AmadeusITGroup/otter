# Major 13.0 Migration guide

> [!IMPORTANT]
> Please make sure to first follow the ["Upgrade new version guide"](https://github.com/AmadeusITGroup/otter/blob/main/docs/core/UPGRADE_NEW_VERSION.md) before going through these steps.

## Removal of Protractor support

The Protractor dedicated helpers are now removed from the different packages.

## @ama-sdk/core

The E2E mock matcher is now depending of API Path only, not the full API path (`basePath` + `path`) anymore.

<!-- generated deprecated - start -->
## Deprecated this version

The following items are **deprecated** and **will be removed** in the version **14**:

### From [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core)

- `BaseApiConstructor` is deprecated.</br>Note: *Not used any more as each ApiClient should redefine their constructor options.*
- `equals` is deprecated.</br>Note: *thisplease use `compareDates` instead*
- `extractQueryParams` is deprecated.</br>Note: *use `stringifyQueryParams` which accepts only supported types*
- `extractQueryParams` is deprecated.</br>Note: *use `stringifyQueryParams` which accepts only supported types*
- `isConstructorObject` is deprecated.</br>Note: *Not used any more as each ApiClient should redefine their constructor options.*
- `prepareUrl` is deprecated.</br>Note: *use `prepareUrlWithQueryParams` with query parameter serialization*

> [!IMPORTANT]
> To automatically migrate the import to the new packages, please use the corresponding `ng add` command for each package.
> Example: `ng add @ama-sdk/client-fetch` will update all imports that are now in `@ama-sdk/client-fetch`
- `AbortCallback` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `angularPlugins` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-angular](https://npmjs.com/package/@ama-sdk/client-angular)*
- `ApiAngularClient` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-angular](https://npmjs.com/package/@ama-sdk/client-angular)*
- `ApiFetchClient` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `BaseApiAngularClientConstructor` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-angular](https://npmjs.com/package/@ama-sdk/client-angular)*
- `BaseApiAngularClientOptions` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-angular](https://npmjs.com/package/@ama-sdk/client-angular)Use the one exposed by [@ama-sdk/client-angular](https://npmjs.com/package/@ama-sdk/client-angular), will be removed in v13*
- `BaseApiBeaconClientConstructor` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-beacon](https://npmjs.com/package/@ama-sdk/client-beacon)*
- `BaseApiBeaconClientOptions` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-beacon](https://npmjs.com/package/@ama-sdk/client-beacon)*
- `BaseApiFetchClientConstructor` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `BaseApiFetchClientOptions` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `CallbackFunction` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `CanStartConditionFunction` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `CanStartConditionResult` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `ConcurrentFetch` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `FetchCall` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `FetchPlugin` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `FetchPluginContext` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `isPromise` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-beacon](https://npmjs.com/package/@ama-sdk/client-beacon)*
- `KeepaliveRequest` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `Mark` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `MockInterceptAngular` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-angular](https://npmjs.com/package/@ama-sdk/client-angular)*
- `MockInterceptFetch` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `MockInterceptFetchParameters` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `PerformanceMetricOptions` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `PerformanceMetricPlugin` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `PluginAsyncStarter` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `RetryConditionType` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `RetryFetch` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `TimeoutStatus` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*
- `WaitForFetch` has been removed from [@ama-sdk/core](https://npmjs.com/package/@ama-sdk/core).</br>Note: *Use the one exposed by [@ama-sdk/client-fetch](https://npmjs.com/package/@ama-sdk/client-fetch)*


### From [@o3r/analytics](https://npmjs.com/package/@o3r/analytics)

- `TrackEventsModule` is deprecated.</br>Note: *TrackEventsDirective, TrackClickDirective and TrackFocusDirective are now standalone*

### From [@o3r/apis-manager](https://npmjs.com/package/@o3r/apis-manager)

- `forRoot` is deprecated.</br>Note: *Please use `provideApiManager` instead*

### From [@o3r/components](https://npmjs.com/package/@o3r/components)

- `C11nModule` is deprecated.</br>Note: *Please use `provideCustomComponents` instead. Will be removed in v14.*
- `forRoot` is deprecated.</br>Note: *Please use `provideCustomComponents` instead.*

### From [@o3r/dynamic-content](https://npmjs.com/package/@o3r/dynamic-content)

- `DynamicContentModule` is deprecated.</br>Note: *Please use `provideDynamicContent` instead. Will be removed in v14.*
- `forRoot` is deprecated.</br>Note: *Please use `provideDynamicContent` instead.*
- `forRoot` is deprecated.</br>Note: *Please use `provideRequestParameters` instead.*
- `RequestParametersModule` is deprecated.</br>Note: *Please use `provideRequestParameters` instead. Will be removed in v14.*

### From [@o3r/forms](https://npmjs.com/package/@o3r/forms)

- `DateValidatorsModule` is deprecated.</br>Note: *MaxDateValidator and MinDateValidator are now standalone
- `NumberValidatorsModule` is deprecated.</br>Note: *MaxValidator and MinValidator are now standalone*

### From [@o3r/logger](https://npmjs.com/package/@o3r/logger)

- `forRoot` is deprecated.</br>Note: *Please use `provideLogger` instead*
- `LoggerModule` is deprecated.</br>Note: *Please use `provideLogger` instead, will be removed in v14.*

### From [@o3r/routing](https://npmjs.com/package/@o3r/routing)

- `AppServerRoutingModule` is deprecated.</br>Note: *Please use `provideEnvironment` instead. Will be removed in v14.*
- `forRoot` is deprecated.</br>Note: *Please use `provideEnvironment` instead.*

### From [@o3r/rules-engine](https://npmjs.com/package/@o3r/rules-engine)

- `RulesetHistoryPresModule` is deprecated.</br>Note: *The Components and Pipes are now standalone*
<!-- generated deprecated - end -->
