@if (debugMode) {
  <button type="button" class="btn btn-outline-primary mb-2 mb-md-0 me-5" (click)="logTree()">
    Log tree
  </button>
}
@if (tree$ | async; as tree) {
  @if (tree.length) {
    <form [formGroup]="form" class="editor d-flex flex-fill overflow-hidden">
      <div class="d-flex h-100 w-100 align-items-stretch">
        <monaco-tree class="overflow-auto w-25" (clickFile)="onClickFile($event)" [tree]="tree" [currentFile]="project?.startingFile" width="fit-content" height="100%"></monaco-tree>
        <div class="flex-fill h-100 overflow-hidden monaco-editor-wrapper">
          <ngx-monaco-editor class="h-100 position-relative"
            [options]="editorOptions$ | async"
            formControlName="code">
          </ngx-monaco-editor>
        </div>
      </div>
    </form>
  } @else if (!!project) {
    <div class="spinner-border" role="status"></div>
  }
  @if (editorMode === 'interactive') {
    <code-editor-control class="d-flex flex-column overflow-hidden" [showOutput]="project?.commands.length > 0 && tree.length > 0"></code-editor-control>
  }
}
