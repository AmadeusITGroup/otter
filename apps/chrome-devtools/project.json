{
  "name": "chrome-devtools",
  "$schema": "https://raw.githubusercontent.com/nrwl/nx/master/packages/nx/schemas/project-schema.json",
  "projectType": "library",
  "root": "apps/chrome-devtools",
  "sourceRoot": "apps/chrome-devtools/src",
  "prefix": "o3r",
  "targets": {
    "build": {
      "executor": "nx:run-script",
      "outputs": [
        "{projectRoot}/dist/manifest.json",
        "{projectRoot}/dist/extension",
        "{projectRoot}/dist/package.json",
        "{projectRoot}/dist/devtools.html"
      ],
      "options": {
        "script": "postbuild:patch",
        "tsConfig": "{projectRoot}/tsconfig.build.json"
      },
      "dependsOn": [
        "^build",
        "build-panel",
        "build-components",
        "build-extension",
        "build-manifest"
      ]
    },
    "build-components": {
      "executor": "@angular-devkit/build-angular:application",
      "outputs": ["{projectRoot}/dist/components"],
      "options": {
        "baseHref": "components",
        "outputPath": {
          "base": "apps/chrome-devtools/dist/components",
          "browser": ""
        },
        "index": "apps/chrome-devtools/src/app-components.html",
        "browser": "apps/chrome-devtools/src/app-components.main.ts",
        "tsConfig": "apps/chrome-devtools/tsconfig.build.components.json",
        "optimization": {
          "scripts": true,
          "styles": {
            "minify": true,
            "inlineCritical": false
          },
          "fonts": true
        },
        "polyfills": [
          "@angular/localize/init"
        ],
        "styles": [
          {
            "inject": true,
            "input": "apps/chrome-devtools/src/styles/index.scss"
          }
        ],
        "sourceMap": {
          "styles": true,
          "scripts": true,
          "vendor": true
        },
        "preserveSymlinks": true,
        "serviceWorker": false,
        "extractLicenses": false,
        "aot": true
      },
      "configurations": {
        "dev": {
          "baseHref": "components",
          "outputPath": "apps/chrome-devtools/dist/components",
          "index": "apps/chrome-devtools/src/app-components.html",
          "browser": "apps/chrome-devtools/src/app-components.main.ts",
          "tsConfig": "apps/chrome-devtools/tsconfig.build.components.json",
          "aot": false,
          "optimization": false
        }
      },
      "dependsOn": [
        "^build",
        "build-manifest"
      ]
    },
    "build-panel": {
      "executor": "@angular-devkit/build-angular:application",
      "outputs": ["{projectRoot}/dist/panel"],
      "options": {
        "baseHref": "panel",
        "outputPath": {
          "base": "apps/chrome-devtools/dist/panel",
          "browser": ""
        },
        "index": "apps/chrome-devtools/src/app-devtools.html",
        "browser": "apps/chrome-devtools/src/app-devtools.main.ts",
        "tsConfig": "apps/chrome-devtools/tsconfig.build.devtools.json",
        "optimization": {
          "scripts": true,
          "styles": {
            "minify": true,
            "inlineCritical": false
          },
          "fonts": true
        },
        "polyfills": [
          "@angular/localize/init"
        ],
        "styles": [
          {
            "inject": true,
            "input": "apps/chrome-devtools/src/styles/index.scss"
          }
        ],
        "sourceMap": {
          "styles": true,
          "scripts": true,
          "vendor": true
        },
        "preserveSymlinks": true,
        "serviceWorker": false,
        "extractLicenses": false,
        "aot": true
      },
      "configurations": {
        "dev": {
          "baseHref": "panel",
          "outputPath": "apps/chrome-devtools/dist/panel",
          "index": "apps/chrome-devtools/src/app-devtools.html",
          "browser": "apps/chrome-devtools/src/app-devtools.main.ts",
          "tsConfig": "apps/chrome-devtools/tsconfig.build.devtools.json",
          "aot": false,
          "optimization": false
        }
      },
      "dependsOn": [
        "^build",
        "build-manifest"
      ]
    },
    "build-extension": {
      "executor": "nx:run-script",
      "outputs": [
        "{projectRoot}/dist/extension"
      ],
      "options": {
        "script": "build:extension"
      },
      "dependsOn": [
        "^build",
        "build-manifest"
      ]
    },
    "lint": {},
    "test": {},
    "test-e2e": {},
    "build-manifest": {
      "executor": "nx:run-script",
      "options": {
        "script": "build:manifest"
      },
      "outputs": [
        "{projectRoot}/dist/src/**",
        "{projectRoot}/dist/assets/**",
        "{projectRoot}/dist/.vite/**",
        "{projectRoot}/dist/manifest.json",
        "{projectRoot}/dist/service-worker-loader.js"
      ],
      "inputs": [
        "base",
        "{workspaceRoot}/tsconfig.node.json",
        "{projectRoot}/vite.config.ts",
        "{projectRoot}/src/assets/**",
        "{projectRoot}/src/background/**",
        "{projectRoot}/src/manifest.ts",
        "{projectRoot}/src/devtools.html",
        "{projectRoot}/src/options.html"
      ]
    },
    "publish-extension": {
      "executor": "nx:run-script",
      "options": {
        "script": "publish-to-market"
      },
      "dependsOn": ["^build"]
    }
  },
  "tags": []
}
